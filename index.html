<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Realtime Database CRUD</title>
</head>
<body>

<h2>Firebase Realtime Database CRUD</h2>

<!-- Input fields for data -->
<input type="text" id="userName" placeholder="Enter name" />
<input type="email" id="userEmail" placeholder="Enter email" />
<input type="text" id="userId" placeholder="Enter User ID (for update/delete)" />

<!-- Buttons for operations -->
<button onclick="saveData()">Save Data</button>
<button onclick="readData()">Read Data</button>
<button onclick="updateData()">Update Data</button>
<button onclick="deleteData()">Delete Data</button>

<!-- Display the results -->
<div id="dataOutput"></div>

<script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-database.js"></script>

<script>
    // Firebase configuration (use your actual Firebase config)
    const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_AUTH_DOMAIN",
        databaseURL: "YOUR_DATABASE_URL",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_STORAGE_BUCKET",
        messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
        appId: "YOUR_APP_ID"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const database = firebase.database(app);

    // Save data to Firebase
    function saveData() {
        const userName = document.getElementById('userName').value;
        const userEmail = document.getElementById('userEmail').value;

        if (userName && userEmail) {
            const newUserRef = database.ref('users').push();
            newUserRef.set({
                name: userName,
                email: userEmail
            }).then(() => {
                alert('Data saved successfully');
                document.getElementById('dataOutput').innerHTML = `Saved: Name - ${userName}, Email - ${userEmail}`;
            }).catch((error) => {
                console.error('Error saving data: ', error);
            });
        } else {
            alert('Please fill all fields');
        }
    }

    // Read data from Firebase
    function readData() {
        const userId = document.getElementById('userId').value;

        if (userId) {
            const userRef = database.ref('users/' + userId);
            userRef.get().then((snapshot) => {
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    document.getElementById('dataOutput').innerHTML = `User: ${data.name}, Email: ${data.email}`;
                } else {
                    document.getElementById('dataOutput').innerHTML = 'No data available for this ID.';
                }
            }).catch((error) => {
                console.error('Error reading data: ', error);
            });
        } else {
            alert('Please enter a user ID');
        }
    }

    // Update data in Firebase
    function updateData() {
        const userId = document.getElementById('userId').value;
        const userName = document.getElementById('userName').value;
        const userEmail = document.getElementById('userEmail').value;

        if (userId && userName && userEmail) {
            const userRef = database.ref('users/' + userId);
            userRef.update({
                name: userName,
                email: userEmail
            }).then(() => {
                alert('Data updated successfully');
                document.getElementById('dataOutput').innerHTML = `Updated: Name - ${userName}, Email - ${userEmail}`;
            }).catch((error) => {
                console.error('Error updating data: ', error);
            });
        } else {
            alert('Please fill all fields');
        }
    }

    // Delete data from Firebase
    function deleteData() {
        const userId = document.getElementById('userId').value;

        if (userId) {
            const userRef = database.ref('users/' + userId);
            userRef.remove().then(() => {
                alert('Data deleted successfully');
                document.getElementById('dataOutput').innerHTML = 'Data deleted successfully';
            }).catch((error) => {
                console.error('Error deleting data: ', error);
            });
        } else {
            alert('Please enter a user ID');
        }
    }
</script>

</body>
</html>